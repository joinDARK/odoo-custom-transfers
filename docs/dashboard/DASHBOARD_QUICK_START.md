# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Å Amanat Dashboard

## üìã –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- ‚úÖ Odoo 18
- ‚úÖ Python 3.11+
- ‚úÖ PostgreSQL 13+
- ‚úÖ –ú–æ–¥—É–ª—å Amanat —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

## ‚ö° –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞ 5 –º–∏–Ω—É—Ç

### 1. –û–±–Ω–æ–≤–∏—Ç–µ –º–æ–¥—É–ª—å
```bash
cd /home/incube/Documents/odoo
./odoo-bin -c odoo.conf -u amanat -d mydb
```

### 2. –û—á–∏—Å—Ç–∏—Ç–µ –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞
```
Ctrl + Shift + F5
```

### 3. –û—Ç–∫—Ä–æ–π—Ç–µ –¥–∞—à–±–æ—Ä–¥
–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤: **Amanat ‚Üí –î–∞—à–±–æ—Ä–¥ ‚Üí –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π –¥–∞—à–±–æ—Ä–¥**

## üéØ –ß–∞—Å—Ç—ã–µ –∑–∞–¥–∞—á–∏

### –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –≥—Ä–∞—Ñ–∏–∫?

**1. –î–æ–±–∞–≤—å—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤ backend:**
```python
# –í —Ñ–∞–π–ª–µ models/dashboard.py, –º–µ—Ç–æ–¥ get_dashboard_data
new_data = self.env['amanat.model'].read_group(
    domain=domain,
    fields=['field_name'],
    groupby=['field_name']
)
result['new_data'] = new_data
```

**2. –û–±–Ω–æ–≤–∏—Ç–µ frontend —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
```javascript
// –í —Ñ–∞–π–ª–µ static/src/js/amanat_dashboard.js, –º–µ—Ç–æ–¥ updateStateFromData
this.state.newData = data.new_data || [];
```

**3. –î–æ–±–∞–≤—å—Ç–µ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥:**
```javascript
// –í –º–µ—Ç–æ–¥–µ initializeAllCharts
if (this.state.newData.length > 0) {
    this.renderBarChart('new-data-chart', {
        labels: this.state.newData.map(d => d.field_name),
        data: this.state.newData.map(d => d.field_name_count),
        title: '–ù–æ–≤—ã–π –≥—Ä–∞—Ñ–∏–∫'
    });
}
```

**4. –î–æ–±–∞–≤—å—Ç–µ canvas –≤ —à–∞–±–ª–æ–Ω:**
```xml
<!-- –í —Ñ–∞–π–ª–µ static/src/xml/amanat_dashboard.xml -->
<div class="col-md-6">
    <div class="chart-container">
        <canvas id="new-data-chart"/>
    </div>
</div>
```

### –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –º–µ—Ç—Ä–∏–∫—É?

**1. Backend:**
```python
# –í get_dashboard_data
result['new_metric'] = self.env['amanat.model'].search_count(domain)
```

**2. Frontend:**
```javascript
// –í updateStateFromData
this.state.newMetric = data.new_metric || 0;
```

**3. –®–∞–±–ª–æ–Ω:**
```xml
<div class="metric-card">
    <h3>–ù–æ–≤–∞—è –º–µ—Ç—Ä–∏–∫–∞</h3>
    <div class="metric-value">
        <t t-esc="formatNumber(state.newMetric)"/>
    </div>
</div>
```

### –ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å —Ü–≤–µ—Ç–∞ –≥—Ä–∞—Ñ–∏–∫–æ–≤?

```javascript
// –í –º–µ—Ç–æ–¥–∞—Ö —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –≥—Ä–∞—Ñ–∏–∫–æ–≤
backgroundColor: [
    'rgba(255, 99, 132, 0.8)',   // –ö—Ä–∞—Å–Ω—ã–π
    'rgba(54, 162, 235, 0.8)',   // –°–∏–Ω–∏–π
    'rgba(255, 206, 86, 0.8)',   // –ñ–µ–ª—Ç—ã–π
    'rgba(75, 192, 192, 0.8)',   // –ë–∏—Ä—é–∑–æ–≤—ã–π
    'rgba(153, 102, 255, 0.8)'   // –§–∏–æ–ª–µ—Ç–æ–≤—ã–π
]
```

### –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä –ø–æ –º–µ–Ω–µ–¥–∂–µ—Ä—É?

**1. –î–æ–±–∞–≤—å—Ç–µ –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
```javascript
this.state.filters = {
    manager: null
};
```

**2. –ü–µ—Ä–µ–¥–∞–π—Ç–µ –≤ backend:**
```javascript
const params = {
    date_from: this.state.dateRange1.start,
    date_to: this.state.dateRange1.end,
    manager_id: this.state.filters.manager
};
```

**3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤ backend:**
```python
if manager_id:
    domain.append(('manager_id', '=', manager_id))
```

## üî• –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏

- `F5` - –û–±–Ω–æ–≤–∏—Ç—å –¥–∞—à–±–æ—Ä–¥
- `Ctrl+Shift+F5` - –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –∫–µ—à–∞
- `F12` - –û—Ç–∫—Ä—ã—Ç—å –∫–æ–Ω—Å–æ–ª—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –í–∫–ª—é—á–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
```javascript
// –í –Ω–∞—á–∞–ª–µ –ª—é–±–æ–≥–æ –º–µ—Ç–æ–¥–∞
console.log('Method called:', arguments);
console.log('Current state:', this.state);
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É Chart.js
```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
typeof Chart !== 'undefined'  // –¥–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å true
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞
```javascript
// –í loadDashboardData –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è data
console.log('Server response:', data);
```

## üìä –ü—Ä–∏–º–µ—Ä—ã –≥–æ—Ç–æ–≤—ã—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤

### –ö—Ä—É–≥–æ–≤–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ —Å –ø—Ä–æ—Ü–µ–Ω—Ç–∞–º–∏
```javascript
this.renderPieChartWithPercentage('my-pie-chart', {
    labels: ['–ö–∞—Ç–µ–≥–æ—Ä–∏—è 1', '–ö–∞—Ç–µ–≥–æ—Ä–∏—è 2', '–ö–∞—Ç–µ–≥–æ—Ä–∏—è 3'],
    data: [30, 50, 20],
    title: '–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º'
});
```

### –õ–∏–Ω–µ–π–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫
```javascript
this.renderLineChart('my-line-chart', {
    labels: ['–Ø–Ω–≤', '–§–µ–≤', '–ú–∞—Ä', '–ê–ø—Ä', '–ú–∞–π'],
    data: [10, 25, 30, 45, 60],
    title: '–î–∏–Ω–∞–º–∏–∫–∞ —Ä–æ—Å—Ç–∞'
});
```

### –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å—Ç–æ–ª–±—á–∞—Ç—ã–π –≥—Ä–∞—Ñ–∏–∫
```javascript
this.renderHorizontalBarChart('my-bar-chart', {
    labels: ['–¢–æ–≤–∞—Ä –ê', '–¢–æ–≤–∞—Ä –ë', '–¢–æ–≤–∞—Ä –í'],
    data: [100, 150, 80],
    title: '–¢–æ–ø —Ç–æ–≤–∞—Ä–æ–≤'
});
```

## üí° –ü–æ–ª–µ–∑–Ω—ã–µ —Å–æ–≤–µ—Ç—ã

### 1. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `read_group` –≤–º–µ—Å—Ç–æ `search` + —Ü–∏–∫–ª
- –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–π—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π –≤ —Ç–æ–ø–∞—Ö (limit=10)
- –ö–µ—à–∏—Ä—É–π—Ç–µ —Ç—è–∂–µ–ª—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è

### 2. UX/UI
- –ü–æ–∫–∞–∑—ã–≤–∞–π—Ç–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –æ—à–∏–±–∫–∏ gracefully
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –ø–ª–∞–≤–Ω–æ—Å—Ç–∏

### 3. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
- –í–∞–ª–∏–¥–∏—Ä—É–π—Ç–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –ù–µ –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

## üÜò –ë—ã—Å—Ç—Ä–∞—è –ø–æ–º–æ—â—å

### –û—à–∏–±–∫–∞: "Service rpc is not available"
```javascript
// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ
this.orm = useService("orm");
// –í–º–µ—Å—Ç–æ
this.rpc = useService("rpc");  // –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ Odoo 18
```

### –û—à–∏–±–∫–∞: "Field does not exist"
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–º—è –ø–æ–ª—è –≤ –º–æ–¥–µ–ª–∏
2. –û–±–Ω–æ–≤–∏—Ç–µ –º–æ–¥—É–ª—å: `./odoo-bin -u amanat`
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä

### –ì—Ä–∞—Ñ–∏–∫–∏ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
1. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—à–∏–±–∫–∏ JavaScript
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ Chart.js –∑–∞–≥—Ä—É–∂–µ–Ω
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ ID canvas —ç–ª–µ–º–µ–Ω—Ç–æ–≤

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](./DASHBOARD_COMPLETE_GUIDE.md)
- [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞](./DASHBOARD_CODE_STRUCTURE.md)
- [–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Odoo 18](https://www.odoo.com/documentation/18.0/)
- [Chart.js –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://www.chartjs.org/docs/latest/)
- [OWL Framework](https://github.com/odoo/owl)

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –¥–∞—à–±–æ—Ä–¥ —Å:
- ‚úÖ 18+ —Ç–∏–ø–æ–≤ –≥—Ä–∞—Ñ–∏–∫–æ–≤
- ‚úÖ –†–µ–∞–ª-—Ç–∞–π–º –¥–∞–Ω–Ω—ã–µ
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –¥–∞—Ç–∞–º
- ‚úÖ –ö—Ä–∞—Å–∏–≤—ã–π —Ç—ë–º–Ω—ã–π –¥–∏–∑–∞–π–Ω
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å—Ç–∫–∞

**–£–¥–∞—á–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏! üöÄ**

---

*–í–µ—Ä—Å–∏—è: 1.0.0 | –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 02.07.2025* 