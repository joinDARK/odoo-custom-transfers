# üìä –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ Amanat Dashboard

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–û–±–∑–æ—Ä —Ä–µ—à–µ–Ω–∏—è](#–æ–±–∑–æ—Ä-—Ä–µ—à–µ–Ω–∏—è)
2. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
3. [–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫](#—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π-—Å—Ç–µ–∫)
4. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-—Ñ–∞–π–ª–æ–≤)
5. [–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã](#–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã-—Å–∏—Å—Ç–µ–º—ã)
6. [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞)
7. [–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ](#—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞-–∏-—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ)
8. [API –∏ –º–µ—Ç–æ–¥—ã](#api-–∏-–º–µ—Ç–æ–¥—ã)
9. [–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º](#—Ä–µ—à–µ–Ω–∏–µ-–ø—Ä–æ–±–ª–µ–º)
10. [–õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏](#–ª—É—á—à–∏–µ-–ø—Ä–∞–∫—Ç–∏–∫–∏)

---

## üéØ –û–±–∑–æ—Ä —Ä–µ—à–µ–Ω–∏—è

Amanat Dashboard - —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –º–æ–¥—É–ª—è Amanat –≤ Odoo 18. Dashboard –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ä–µ–∞–ª-—Ç–∞–π–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö –±–∏–∑–Ω–µ—Å-–º–µ—Ç—Ä–∏–∫ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏ –∏ –≤–∏–¥–∂–µ—Ç—ã.

### –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- üìà 18+ —Ç–∏–ø–æ–≤ –≥—Ä–∞—Ñ–∏–∫–æ–≤ (–∫—Ä—É–≥–æ–≤—ã–µ, –ª–∏–Ω–µ–π–Ω—ã–µ, —Å—Ç–æ–ª–±—á–∞—Ç—ã–µ)
- üîÑ –†–µ–∞–ª-—Ç–∞–π–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- üìÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –¥–∞—Ç–∞–º —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –ø–µ—Ä–∏–æ–¥–æ–≤
- üí± –ú—É–ª—å—Ç–∏–≤–∞–ª—é—Ç–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- üì± –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω –¥–ª—è –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- üåô –¢—ë–º–Ω–∞—è —Ç–µ–º–∞

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –û–±—â–∞—è —Å—Ö–µ–º–∞

```mermaid
graph TB
    A[Browser] --> B[OWL Component]
    B --> C[Odoo ORM]
    C --> D[PostgreSQL]
    B --> E[Chart.js]
    E --> F[Canvas Elements]
    
    subgraph Frontend
        B
        E
        F
    end
    
    subgraph Backend
        C
        G[Dashboard Model]
        H[Data Aggregation]
    end
    
    subgraph Database
        D
    end
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ           Amanat Dashboard              ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Frontend (OWL + Chart.js)              ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ AmanatDashboard Component          ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ Chart Renderers                    ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ State Management                   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Backend (Python)                       ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ Dashboard Model                    ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ Data Aggregation Methods          ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ API Endpoints                      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Database (PostgreSQL)                  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ Aggregated Queries                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Frontend
- **OWL (Odoo Web Library)** - –†–µ–∞–∫—Ç–∏–≤–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è –≤–µ–±-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **Chart.js 4.4.0** - –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–≤
- **Chart.js DataLabels Plugin** - –ü–ª–∞–≥–∏–Ω –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–∞—Ö
- **Bootstrap 5** - CSS —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ (–≤—Å—Ç—Ä–æ–µ–Ω –≤ Odoo)
- **JavaScript ES6+** - –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π JavaScript

### Backend
- **Python 3.11** - –û—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫
- **Odoo 18 Framework** - –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞
- **PostgreSQL** - –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **VS Code** - –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä
- **Chrome DevTools** - –û—Ç–ª–∞–¥–∫–∞ frontend
- **Odoo Debug Mode** - –û—Ç–ª–∞–¥–∫–∞ backend

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
addons/amanat/
‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îî‚îÄ‚îÄ dashboard.py                 # –ú–æ–¥–µ–ª—å –¥–∞—à–±–æ—Ä–¥–∞ –∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îú‚îÄ‚îÄ views/
‚îÇ   ‚îú‚îÄ‚îÄ dashboard_views.xml          # XML –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ menu.xml                     # –ü—É–Ω–∫—Ç—ã –º–µ–Ω—é
‚îú‚îÄ‚îÄ static/
‚îÇ   ‚îî‚îÄ‚îÄ src/
‚îÇ       ‚îú‚îÄ‚îÄ js/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ amanat_dashboard.js  # OWL –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îÇ       ‚îú‚îÄ‚îÄ xml/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ amanat_dashboard.xml # –®–∞–±–ª–æ–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
‚îÇ       ‚îî‚îÄ‚îÄ css/
‚îÇ           ‚îî‚îÄ‚îÄ amanat_dashboard.css # –°—Ç–∏–ª–∏
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îî‚îÄ‚îÄ dashboard_data.xml           # –ù–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îú‚îÄ‚îÄ security/
‚îÇ   ‚îî‚îÄ‚îÄ ir.model.access.csv          # –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
‚îî‚îÄ‚îÄ __manifest__.py                  # –ú–∞–Ω–∏—Ñ–µ—Å—Ç –º–æ–¥—É–ª—è
```

---

## üß© –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

### 1. Backend Model (dashboard.py)

```python
class AmanatDashboard(models.Model):
    _name = 'amanat.dashboard'
    _description = '–î–∞—à–±–æ—Ä–¥ –º–æ–¥—É–ª—è Amanat'
```

**–û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è:**
- –°—á–µ—Ç—á–∏–∫–∏ (total_transfers, active_transfers, etc.)
- –°—É–º–º—ã –ø–æ –≤–∞–ª—é—Ç–∞–º (total_rub_balance, total_usd_balance, etc.)
- –ü–æ–∫–∞–∑–∞—Ç–µ–ª–∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (transfers_completion_rate)

**–ö–ª—é—á–µ–≤–æ–π –º–µ—Ç–æ–¥:**
```python
@api.model
def get_dashboard_data(self, date_from=None, date_to=None):
    """–ü–æ–ª—É—á–∏—Ç—å –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –¥–∞—à–±–æ—Ä–¥–∞"""
```

### 2. Frontend Component (amanat_dashboard.js)

```javascript
export class AmanatDashboard extends Component {
    static template = "amanat.AmanatDashboard";
    static props = {};
}
```

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**
- `loadDashboardData()` - –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å —Å–µ—Ä–≤–µ—Ä–∞
- `initializeAllCharts()` - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤
- `renderPieChartWithPercentage()` - –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∫—Ä—É–≥–æ–≤—ã—Ö –¥–∏–∞–≥—Ä–∞–º–º
- `renderLineChart()` - –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –ª–∏–Ω–µ–π–Ω—ã—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤
- `renderBarChart()` - –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Å—Ç–æ–ª–±—á–∞—Ç—ã—Ö –¥–∏–∞–≥—Ä–∞–º–º

### 3. –®–∞–±–ª–æ–Ω (amanat_dashboard.xml)

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —à–∞–±–ª–æ–Ω–∞:
```xml
<t t-name="amanat.AmanatDashboard" owl="1">
    <div class="o_amanat_dashboard">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∏ —Ñ–∏–ª—å—Ç—Ä—ã -->
        <!-- –ú–µ—Ç—Ä–∏–∫–∏ -->
        <!-- –ì—Ä–∞—Ñ–∏–∫–∏ -->
    </div>
</t>
```

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Odoo 18
- PostgreSQL 13+
- Python 3.11+
- –ú–æ–¥—É–ª—å Amanat —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# 1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫—É addons/amanat
# 2. –û–±–Ω–æ–≤–∏—Ç–µ –º–æ–¥—É–ª—å
./odoo-bin -c odoo.conf -u amanat -d mydb

# –ò–ª–∏ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
# –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚Üí Amanat ‚Üí –û–±–Ω–æ–≤–∏—Ç—å
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

–í —Ñ–∞–π–ª–µ `security/ir.model.access.csv`:
```csv
id,name,model_id:id,group_id:id,perm_read,perm_write,perm_create,perm_unlink
access_amanat_dashboard_user,amanat.dashboard.user,model_amanat_dashboard,base.group_user,1,0,0,0
access_amanat_dashboard_manager,amanat.dashboard.manager,model_amanat_dashboard,amanat.group_manager,1,1,1,1
```

---

## üöÄ –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞

1. **Backend**: –î–æ–±–∞–≤—å—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤ `get_dashboard_data()`:
```python
# –í –º–µ—Ç–æ–¥–µ get_dashboard_data
new_metric = self.env['amanat.model'].read_group(
    domain=domain,
    fields=['field1', 'field2'],
    groupby=['field1']
)
result['new_metric'] = new_metric
```

2. **Frontend**: –û–±–Ω–æ–≤–∏—Ç–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ `updateStateFromData()`:
```javascript
this.state.newMetric = data.new_metric || [];
```

3. **–î–æ–±–∞–≤—å—Ç–µ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –≤ `initializeAllCharts()`**:
```javascript
if (this.state.newMetric.length > 0) {
    this.renderBarChart('new-metric-chart', {
        labels: this.state.newMetric.map(item => item.label),
        data: this.state.newMetric.map(item => item.value),
        title: '–ù–æ–≤–∞—è –º–µ—Ç—Ä–∏–∫–∞'
    });
}
```

4. **–î–æ–±–∞–≤—å—Ç–µ canvas –≤ —à–∞–±–ª–æ–Ω**:
```xml
<div class="col-md-6 chart-container">
    <canvas id="new-metric-chart"></canvas>
</div>
```

### –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –≤–∏–¥–∂–µ—Ç–∞

```javascript
// –ù–æ–≤—ã–π –º–µ—Ç–æ–¥ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
renderCustomWidget(elementId, config) {
    const element = document.getElementById(elementId);
    if (!element) return;
    
    // –í–∞—à–∞ –ª–æ–≥–∏–∫–∞ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
    element.innerHTML = `
        <div class="custom-widget">
            <h3>${config.title}</h3>
            <div class="value">${config.value}</div>
        </div>
    `;
}
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤

```javascript
// –í setup()
this.state.filters = {
    currency: 'all',
    status: 'all',
    manager: null
};

// –ú–µ—Ç–æ–¥ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤
async applyFilters() {
    const params = {
        ...this.state.filters,
        date_from: this.state.dateRange1.start,
        date_to: this.state.dateRange1.end
    };
    
    const data = await this.orm.call(
        'amanat.dashboard',
        'get_dashboard_data',
        [],
        params
    );
    
    this.updateStateFromData(data);
    this.initializeAllCharts();
}
```

---

## üìö API –∏ –º–µ—Ç–æ–¥—ã

### Backend API

#### get_dashboard_data(date_from=None, date_to=None)
–û—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –¥–∞—à–±–æ—Ä–¥–∞.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `date_from` (string, optional) - –ù–∞—á–∞–ª—å–Ω–∞—è –¥–∞—Ç–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ (YYYY-MM-DD)
- `date_to` (string, optional) - –ö–æ–Ω–µ—á–Ω–∞—è –¥–∞—Ç–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ (YYYY-MM-DD)

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
```python
{
    'transfers_count': int,
    'transfers_active': int,
    'transfers_by_status': dict,
    'transfers_by_currency': dict,
    'transfers_by_month': list,
    'orders_count': int,
    'orders_by_status': dict,
    'currency_rub': float,
    'currency_usd': float,
    # ... –∏ –¥—Ä—É–≥–∏–µ –º–µ—Ç—Ä–∏–∫–∏
}
```

### Frontend API

#### loadDashboardData()
–ó–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å —Å–µ—Ä–≤–µ—Ä–∞ –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

#### initializeAllCharts()
–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤—Å–µ –≥—Ä–∞—Ñ–∏–∫–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ.

#### renderPieChartWithPercentage(canvasId, config)
–†–µ–Ω–¥–µ—Ä–∏—Ç –∫—Ä—É–≥–æ–≤—É—é –¥–∏–∞–≥—Ä–∞–º–º—É —Å –ø—Ä–æ—Ü–µ–Ω—Ç–∞–º–∏.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `canvasId` (string) - ID canvas —ç–ª–µ–º–µ–Ω—Ç–∞
- `config` (object) - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≥—Ä–∞—Ñ–∏–∫–∞
  - `labels` (array) - –ú–µ—Ç–∫–∏
  - `data` (array) - –î–∞–Ω–Ω—ã–µ
  - `title` (string) - –ó–∞–≥–æ–ª–æ–≤–æ–∫

---

## üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

#### 1. –ì—Ä–∞—Ñ–∏–∫–∏ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≥—Ä–∞—Ñ–∏–∫–∏ –Ω–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è.

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –û—á–∏—Å—Ç–∏—Ç–µ –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞
Ctrl + Shift + F5

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞
F12 ‚Üí Console

# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Chart.js –∑–∞–≥—Ä—É–∂–µ–Ω
typeof Chart !== 'undefined'
```

#### 2. –û—à–∏–±–∫–∞ "Service rpc is not available"

**–ü—Ä–æ–±–ª–µ–º–∞:** –í Odoo 18 —Å–µ—Ä–≤–∏—Å `rpc` –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è OWL –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ `orm` —Å–µ—Ä–≤–∏—Å:
```javascript
// –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
this.rpc = useService("rpc");

// –ü—Ä–∞–≤–∏–ª—å–Ω–æ
this.orm = useService("orm");
```

#### 3. –û—à–∏–±–∫–∞ "Field does not exist"

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ–ª–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –≤ –º–æ–¥–µ–ª–∏.

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –∏–º–µ–Ω–∏ –ø–æ–ª—è
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ–ª–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ –≤ –º–æ–¥–µ–ª–∏
3. –û–±–Ω–æ–≤–∏—Ç–µ –º–æ–¥—É–ª—å: `./odoo-bin -u amanat`

#### 4. –î–∞–Ω–Ω—ã–µ –Ω–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –¥–∞—à–±–æ—Ä–¥ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ä—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è.

**–†–µ—à–µ–Ω–∏–µ:**
```javascript
// –î–æ–±–∞–≤—å—Ç–µ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
async refreshDashboard() {
    this.state.isLoading = true;
    await this.loadDashboardData();
}
```

### –û—Ç–ª–∞–¥–∫–∞

#### Frontend –æ—Ç–ª–∞–¥–∫–∞
```javascript
// –î–æ–±–∞–≤—å—Ç–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
console.log('Loading data:', params);
console.log('Data received:', data);
console.log('State updated:', this.state);
```

#### Backend –æ—Ç–ª–∞–¥–∫–∞
```python
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ logger
import logging
_logger = logging.getLogger(__name__)

_logger.info('Dashboard data requested: %s', params)
_logger.debug('Query result: %s', result)
```

---

## üåü –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### 1. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤:**
```python
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ read_group –≤–º–µ—Å—Ç–æ search + loop
transfers_by_status = self.env['amanat.transfer'].read_group(
    domain=domain,
    fields=['state'],
    groupby=['state']
)
```

**–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:**
```javascript
// –ö–µ—à–∏—Ä—É–π—Ç–µ —Ç—è–∂–µ–ª—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
if (!this._cachedData || this._cacheExpired()) {
    this._cachedData = await this.loadDashboardData();
    this._cacheTimestamp = Date.now();
}
```

### 2. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞:**
```python
@api.model
def get_dashboard_data(self, date_from=None, date_to=None):
    self.check_access_rights('read')
    # ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥
```

**–í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:**
```python
if date_from:
    try:
        datetime.strptime(date_from, '%Y-%m-%d')
    except ValueError:
        raise ValidationError('Invalid date format')
```

### 3. –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å

**–ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```javascript
// –†–∞–∑–¥–µ–ª—è–π—Ç–µ –ª–æ–≥–∏–∫—É –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã
class ChartRenderer {
    static renderPie(canvasId, config) { }
    static renderLine(canvasId, config) { }
    static renderBar(canvasId, config) { }
}
```

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º–æ—Å—Ç—å:**
```javascript
// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã
const CHART_COLORS = {
    primary: 'rgb(54, 162, 235)',
    success: 'rgb(75, 192, 192)',
    danger: 'rgb(255, 99, 132)',
    warning: 'rgb(255, 206, 86)'
};
```

### 4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç

**–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∑–∞–≥—Ä—É–∑–∫–∏:**
```xml
<div t-if="state.isLoading" class="text-center p-5">
    <i class="fa fa-spinner fa-spin fa-3x"/>
    <p>–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</p>
</div>
```

**–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**
```javascript
try {
    await this.loadDashboardData();
} catch (error) {
    this.state.error = error.message;
    console.error('Dashboard error:', error);
}
```

---

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –∏ KPI

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏

1. **–ü–µ—Ä–µ–≤–æ–¥—ã (Transfers)**
   - –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
   - –ê–∫—Ç–∏–≤–Ω—ã–µ/–ó–∞–∫—Ä—ã—Ç—ã–µ
   - –ü–æ —Å—Ç–∞—Ç—É—Å–∞–º
   - –ü–æ –≤–∞–ª—é—Ç–∞–º
   - –ü–æ —Å—Ç—Ä–∞–Ω–∞–º
   - –ü–æ —Ç–∏–ø–∞–º –æ–ø–µ—Ä–∞—Ü–∏–π

2. **–û—Ä–¥–µ—Ä–∞ (Orders)**
   - –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
   - –ü–æ —Å—Ç–∞—Ç—É—Å–∞–º
   - –ü–æ –º–µ—Å—è—Ü–∞–º
   - –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

3. **–î–µ–Ω–µ–∂–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã (Money Containers)**
   - –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
   - –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ/–û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ
   - –ü–æ –≤–∞–ª—é—Ç–∞–º

4. **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞**
   - –¢–æ–ø –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–æ–≤
   - –¢–æ–ø –ø–ª–∞—Ç–µ–ª—å—â–∏–∫–æ–≤
   - –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
   - –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ –¥–Ω—è–º –Ω–µ–¥–µ–ª–∏
   - –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏

---

## üîÆ –ü–ª–∞–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è

### –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ (1-2 –º–µ—Å—è—Ü–∞)
- [ ] –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –≤ Excel/PDF
- [ ] –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –≤–∏–¥–∂–µ—Ç—ã
- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤
- [ ] Email —Ä–∞—Å—Å—ã–ª–∫–∞ –æ—Ç—á–µ—Ç–æ–≤

### –°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω—ã–µ (3-6 –º–µ—Å—è—Ü–µ–≤)
- [ ] –ú–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ–≥–Ω–æ–∑–æ–≤
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ API
- [ ] –ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- [ ] –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ (6+ –º–µ—Å—è—Ü–µ–≤)
- [ ] AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
- [ ] Blockchain –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [ ] IoT –¥–∞—Ç—á–∏–∫–∏
- [ ] –ü—Ä–µ–¥–∏–∫—Ç–∏–≤–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–æ–≤:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —ç—Ç—É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ Odoo
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞
4. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∫–æ–º–∞–Ω–¥–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

---

## üìù –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –í–µ—Ä—Å–∏—è 1.0.0 (02.07.2025)
- –ü–µ—Ä–≤—ã–π —Ä–µ–ª–∏–∑
- 18 —Ç–∏–ø–æ–≤ –≥—Ä–∞—Ñ–∏–∫–æ–≤
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –¥–∞—Ç–∞–º
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–µ—Ä–∏–æ–¥–æ–≤

---

*–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞ –¥–ª—è Amanat Dashboard v1.0.0*
*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 02.07.2025* 