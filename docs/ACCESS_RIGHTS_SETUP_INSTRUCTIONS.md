# Инструкция по настройке прав доступа

## Обзор изменений

Данная инструкция описывает настройку прав доступа для конкретных пользователей в системе Amanat:

### Настроенные права доступа:

#### 1. Вкладка "Анализ" - полный доступ:
- **Вера финдир**
- **Венера**  
- **Халида**

#### 2. Дашборд "Заявки фикс" - доступ:
- **Алина** (менеджер)
- **Элина** (менеджер)

## Внесенные изменения

### 1. Создание новых групп безопасности (`security/security_groups.xml`)
Добавлены следующие группы:
- `group_amanat_vera_findir` - для Веры финдир
- `group_amanat_venera_analytics` - для Венеры
- `group_amanat_khalida_analytics` - для Халиды
- `group_amanat_elina_manager_dashboard` - для Элины
- Группа для Алины уже существует: `group_amanat_alina_manager_files`

### 2. Настройка прав доступа к моделям (`security/ir.model.access.csv`)
Добавлены права доступа:
- К модели `amanat.analytics_dashboard` для групп Веры, Венеры и Халиды
- К модели `amanat.zayavka_fiks_dashboard` для групп Алины и Элины

### 3. Настройка меню (`views/menu.xml`, `views/zayavka_fiks_dashboard_views.xml`)
- Разкомментировано и настроено меню "Анализ" с доступом для новых групп
- Разкомментировано и настроено меню "Дашборд заявок фикс" с доступом для менеджеров

## Инструкции по применению

### 1. Обновление модуля
После внесения изменений необходимо обновить модуль Amanat:
```bash
# Через интерфейс Odoo: Приложения -> Amanat -> Обновить
# Или через командную строку:
./odoo-bin -u amanat -d your_database_name
```

### 2. Назначение пользователей к группам
После обновления модуля необходимо назначить пользователей к соответствующим группам через интерфейс администратора:

1. Перейти в **Настройки -> Пользователи и компании -> Пользователи**
2. Найти каждого пользователя и отредактировать его
3. В разделе **Группы доступа** назначить соответствующие группы:

   - **Вера финдир**: добавить группу "Вера финдир - аналитика"
   - **Венера**: добавить группу "Венера - аналитика"  
   - **Халида**: добавить группу "Халида - аналитика"
   - **Алина**: убедиться что назначена группа "Менеджер с доступом к файлам (Алина)" + "Manager"
   - **Элина**: добавить группу "Элина - менеджер дашборд" + "Manager"

### 3. Проверка доступа
После назначения групп пользователи должны увидеть:
- **Вера, Венера, Халида**: пункт меню "Анализ" в главном меню ТДК
- **Алина и Элина**: пункт меню "Дашборд заявок фикс" в главном меню ТДК

## Права доступа

### Вкладка "Анализ"
- **Модель**: `amanat.analytics_dashboard`
- **Действие**: `action_amanat_analytics_dashboard_js`
- **Права**: чтение, запись, создание, удаление (полный доступ)

### Дашборд "Заявки фикс"
- **Модель**: `amanat.zayavka_fiks_dashboard`
- **Действие**: `action_zayavka_fiks_dashboard`
- **Права**: чтение, запись, создание, удаление (полный доступ)

## Проверка функциональности

### После применения изменений проверьте:
1. ✅ Пользователи видят соответствующие пункты меню
2. ✅ Пункты меню открываются без ошибок
3. ✅ Дашборды загружаются и работают корректно
4. ✅ Пользователи могут выполнять все необходимые операции

## Устранение неполадок

### Если пользователь не видит пункт меню:
1. Проверьте назначение правильной группы пользователю
2. Очистите кэш браузера и обновите страницу
3. Проверьте логи Odoo на наличие ошибок

### Если возникают ошибки доступа:
1. Проверьте что модуль обновлен
2. Проверьте правильность назначения групп
3. Убедитесь что пользователь имеет базовую группу `base.group_user`

## Дата создания
**Дата**: September 10, 2025
**Автор**: Система настройки прав доступа Amanat



