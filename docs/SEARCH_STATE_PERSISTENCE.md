# –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–∏—Å–∫–∞ –º–µ–∂–¥—É –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏

## –û–±–∑–æ—Ä

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–∏—Å–∫–∞ (Search State Persistence) –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –≤—Å–µ –≤–≤–µ–¥–µ–Ω–Ω—ã–µ –≤ search view –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞—Ö –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ –º–æ–¥–µ–ª—è–º–∏ –≤ Odoo.

### –ß—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:
- ‚úÖ –í–≤–µ–¥–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –ø–æ–ª—è—Ö –ø–æ–∏—Å–∫–∞
- ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã 
- ‚úÖ –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ (Group By)
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ñ–∏–ª—å—Ç—Ä—ã

### –ß—Ç–æ –ù–ï —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:
- ‚ùå –ü–∞—Ä–æ–ª–∏, —Ç–æ–∫–µ–Ω—ã, —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ –∫–ª—é—á–∏
- ‚ùå –í—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã
- ‚ùå –°–æ—Å—Ç–æ—è–Ω–∏—è —Å—Ç–∞—Ä—à–µ 24 —á–∞—Å–æ–≤

## –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–∫–ª—é—á–µ–Ω–∏–µ

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∫–ª—é—á–µ–Ω** –¥–ª—è —Å–ª–µ–¥—É—é—â–∏—Ö –º–æ–¥–µ–ª–µ–π:
- `amanat.zayavka` - –ó–∞—è–≤–∫–∏
- `amanat.contragent` - –ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã  
- `amanat.contragent_contract` - –ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–æ–≤
- `amanat.conversion` - –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è
- `amanat.writeoff` - –°–ø–∏—Å–∞–Ω–∏—è
- `amanat.template_library` - –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ —à–∞–±–ª–æ–Ω–æ–≤
- `amanat.signature_library` - –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø–æ–¥–ø–∏—Å–µ–π
- `amanat.kassa_files` - –§–∞–π–ª—ã –∫–∞—Å—Å
- `amanat.reconciliation` - –°–≤–µ—Ä–∫–∞
- `price_list.payer_carrying_out` - –ü—Ä–∞–π—Å-–ª–∏—Å—Ç—ã

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª **–æ—Ç–∫–ª—é—á–µ–Ω** –¥–ª—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π:
- `amanat.dashboard` - –î–∞—à–±–æ—Ä–¥—ã
- `amanat.analytics_dashboard` - –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –¥–∞—à–±–æ—Ä–¥—ã
- `ir.attachment` - –í–ª–æ–∂–µ–Ω–∏—è

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

–î–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç `AmanatSearchState`:

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:

```javascript
// –í–∫–ª—é—á–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–π
AmanatSearchState.enable();

// –û—Ç–∫–ª—é—á–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–π
AmanatSearchState.disable();

// –í–∫–ª—é—á–∏—Ç—å –æ—Ç–ª–∞–¥–æ—á–Ω—ã–π —Ä–µ–∂–∏–º (–ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏)
AmanatSearchState.debug();

// –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏—è–º
AmanatSearchState.stats();

// –û—á–∏—Å—Ç–∏—Ç—å –í–°–ï —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
AmanatSearchState.clear();
```

### –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –∫–æ–º–∞–Ω–¥—ã:

```javascript
// –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
const states = AmanatSearchState.utils.getAllStates();
console.log(states);

// –≠–∫—Å–ø–æ—Ä—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–π –≤ JSON
const exportData = AmanatSearchState.utils.exportStates();
console.log(exportData);

// –ò–º–ø–æ—Ä—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–π –∏–∑ JSON
AmanatSearchState.utils.importStates(exportData);

// –û—á–∏—Å—Ç–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –º–æ–¥–µ–ª–∏
AmanatSearchState.utils.clearModelState('amanat.zayavka');

// –ü–æ–ª—É—á–∏—Ç—å –ø–æ–¥—Ä–æ–±–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
const stats = AmanatSearchState.utils.getStatistics();
console.table(stats.modelCounts);
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –î–æ–±–∞–≤–∏—Ç—å –º–æ–¥–µ–ª—å –∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—é:

```javascript
// –í —Ñ–∞–π–ª–µ search_state_config.js
enabledModels: [
    "amanat.zayavka",
    "your.new.model",  // –î–æ–±–∞–≤–∏—Ç—å —Å–≤–æ—é –º–æ–¥–µ–ª—å
    // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏
]
```

### –ò—Å–∫–ª—é—á–∏—Ç—å –ø–æ–ª–µ –∏–∑ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:

```javascript
// –í —Ñ–∞–π–ª–µ search_state_config.js  
excludeFields: [
    "password",
    "token",
    "your_secret_field",  // –î–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–µ –ø–æ–ª–µ
    // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
]
```

### –ò–∑–º–µ–Ω–∏—Ç—å –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π:

```javascript
// –í —Ñ–∞–π–ª–µ search_state_config.js
maxAge: 48 * 60 * 60 * 1000,  // 48 —á–∞—Å–æ–≤ –≤–º–µ—Å—Ç–æ 24
```

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –†–∞–±–æ—Ç–∞ —Å –∑–∞—è–≤–∫–∞–º–∏
1. –û—Ç–∫—Ä—ã—Ç—å "–ó–∞—è–≤–∫–∏"
2. –í–≤–µ—Å—Ç–∏ –≤ –ø–æ–ª–µ "‚Ññ –∑–∞—è–≤–∫–∏": "2024"
3. –í—ã–±—Ä–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä "–ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞—è–≤–∫–∏"
4. –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –ø–æ "–°—Ç–∞—Ç—É—Å"
5. –ü–µ—Ä–µ–π—Ç–∏ –≤ "–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã"
6. –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ "–ó–∞—è–≤–∫–∏" ‚Üí **–í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!**

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ü–æ–∏—Å–∫ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–æ–≤
1. –û—Ç–∫—Ä—ã—Ç—å "–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã"
2. –í–≤–µ—Å—Ç–∏ –≤ –ø–æ–∏—Å–∫: "–û–û–û –†–æ–≥–∞"
3. –í–∫–ª—é—á–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä "–° –ø–ª–∞—Ç–µ–ª—å—â–∏–∫–∞–º–∏"
4. –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥—Ä—É–≥–æ–µ –º–µ–Ω—é
5. –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ "–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã" ‚Üí **–ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!**

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã:

1. **search_state_persistence.js** - –û—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥—É–ª—å, —Ä–∞—Å—à–∏—Ä—è—é—â–∏–π SearchModel
2. **search_state_config.js** - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ —É—Ç–∏–ª–∏—Ç—ã
3. **localStorage** - –•—Ä–∞–Ω–∏–ª–∏—â–µ —Å–æ—Å—Ç–æ—è–Ω–∏–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ

### –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã:

1. **–ü—Ä–∏ –ø–æ–∏—Å–∫–µ**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ localStorage
2. **–ü—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ**: –°–æ—Å—Ç–æ—è–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –º–æ–¥–µ–ª–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è
3. **–ü—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ**: –°–æ—Å—Ç–æ—è–Ω–∏–µ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∏–∑ localStorage
4. **–ü—Ä–∏ –æ—á–∏—Å—Ç–∫–µ**: –£—Å—Ç–∞—Ä–µ–≤—à–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è (>24—á) —É–¥–∞–ª—è—é—Ç—Å—è

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö:

```json
{
  "facets": [
    {"name": "filter_active", "value": true}
  ],
  "searchFields": [
    {"name": "zayavka_num", "value": "2024", "displayName": "‚Ññ –∑–∞—è–≤–∫–∏"}
  ],
  "groupBy": ["status"],
  "timestamp": 1677123456789,
  "version": "1.0"
}
```

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –°–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –≤–∫–ª—é—á–µ–Ω–∞ –ª–∏ –º–æ–¥–µ–ª—å –≤ `enabledModels`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –≤–∫–ª—é—á–µ–Ω: `AmanatSearchState.enable()`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏

### –°–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–µ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–æ–∑—Ä–∞—Å—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è (–Ω–µ —Å—Ç–∞—Ä—à–µ 24 —á–∞—Å–æ–≤)
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ localStorage –±—Ä–∞—É–∑–µ—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—á–∏—Å—Ç–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è: `AmanatSearchState.clear()`

### –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –¥–∞–Ω–Ω—ã—Ö –≤ localStorage:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ—Å—Ç–æ—è–Ω–∏–π: `AmanatSearchState.stats()`
2. –û—á–∏—Å—Ç–∏—Ç–µ —Å—Ç–∞—Ä—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è: `AmanatSearchState.clear()`
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–µ–Ω—å—à–∏–π `maxAge` –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- üîí –ü–∞—Ä–æ–ª–∏ –∏ —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ –ø–æ–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–∫–ª—é—á–∞—é—Ç—Å—è
- üîí –°–æ—Å—Ç–æ—è–Ω–∏—è —Ö—Ä–∞–Ω—è—Ç—Å—è —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- üîí –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- üîí –í–∞–ª–∏–¥–∞—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- ‚ö° –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –≤–ª–∏—è–Ω–∏–µ –Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞
- ‚ö° –°–∂–∞—Ç–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ localStorage
- ‚ö° –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π
- ‚ö° –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –æ—Ç –º—É—Å–æ—Ä–∞

## –ñ—É—Ä–Ω–∞–ª –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –í–µ—Ä—Å–∏—è 1.0
- ‚úÖ –ë–∞–∑–æ–≤–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –∏ –ø–æ–ª–µ–π –ø–æ–∏—Å–∫–∞
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–µ –º–æ–¥–µ–ª–∏ –∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
- ‚úÖ –ö–æ–Ω—Å–æ–ª—å–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –∏ –æ—á–∏—Å—Ç–∫–∞
- ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–π


