# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞ "–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª"

## –û–±–∑–æ—Ä –ø—Ä–æ–±–ª–µ–º

–ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞ "–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª" –±—ã–ª–æ –≤—ã—è–≤–ª–µ–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º:

1. **YandexGPT –≤–æ–∑–≤—Ä–∞—â–∞–ª –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã** –≤–º–µ—Å—Ç–æ –ø–µ—Ä–µ–≤–æ–¥–æ–≤
2. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å–∏–≥–Ω–∞—Ç—É—Ä–∞ –≤ —à–∞–±–ª–æ–Ω–µ** `{{ –≤_–±–∞–Ω–∫–∞_–ø–æ–ª—É—á–∞—Ç–µ–ª—è}}`
3. **–ê–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ —É–¥–∞–ª—è–ª–∞ —É–∂–µ –∑–∞–º–µ–Ω–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è**
4. **–ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã –Ω–µ –Ω–∞—Ö–æ–¥–∏–ª–∏—Å—å –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ**

## –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–µ—Ä–µ–≤–æ–¥–∞ YandexGPT

**–ü—Ä–æ–±–ª–µ–º–∞:** –§—É–Ω–∫—Ü–∏—è `_translate_text_via_yandex_gpt` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–æ–º–ø—Ç –∏–∑-–∑–∞ –≤—ã–∑–æ–≤–∞ `_send_text_to_yandex_gpt_with_prompt("", translation_prompt)`, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–±–∞–≤–ª—è–ª "–î–æ–∫—É–º–µ–Ω—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞:" –∫ –ø—Ä–æ–º–ø—Ç—É –ø–µ—Ä–µ–≤–æ–¥–∞.

**–†–µ—à–µ–Ω–∏–µ:** –ü–µ—Ä–µ–ø–∏—Å–∞–ª–∏ —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –ø—Ä—è–º–æ–≥–æ –≤—ã–∑–æ–≤–∞ YandexGPT API:

```python
def _translate_text_via_yandex_gpt(self, text):
    """–ü–µ—Ä–µ–≤–æ–¥–∏—Ç —Ç–µ–∫—Å—Ç —Å —Ä—É—Å—Å–∫–æ–≥–æ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π —á–µ—Ä–µ–∑ YandexGPT"""
    # –ü—Ä—è–º–æ–π –≤—ã–∑–æ–≤ API –±–µ–∑ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
    user_message = f"""–ü–µ—Ä–µ–≤–µ–¥–∏ —Å —Ä—É—Å—Å–∫–æ–≥–æ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π: {text}

–ü—Ä–∞–≤–∏–ª–∞:
- –≠—Ç–æ –Ω–∞–∑–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏/–∫–æ–º–ø–∞–Ω–∏–∏
- –ü–µ—Ä–µ–≤–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º
- –û–û–û = LLC, –ê–û = JSC, –ó–ê–û = CJSC
- –í–µ—Ä–Ω–∏ —Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç"""
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** YandexGPT —Ç–µ–ø–µ—Ä—å –ø–æ–ª—É—á–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞.

### 2. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å–∏–≥–Ω–∞—Ç—É—Ä—ã –≤ —à–∞–±–ª–æ–Ω–µ

**–ü—Ä–æ–±–ª–µ–º–∞:** –í —à–∞–±–ª–æ–Ω–µ –±—ã–ª–∞ —Å–∏–≥–Ω–∞—Ç—É—Ä–∞ `{{ –≤_–±–∞–Ω–∫–∞_–ø–æ–ª—É—á–∞—Ç–µ–ª—è}}` (—Å –ø—Ä–æ–±–µ–ª–æ–º –∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º) –≤–º–µ—Å—Ç–æ `{{–∞–¥—Ä–µ—Å_–±–∞–Ω–∫–∞_–ø–æ–ª—É—á–∞—Ç–µ–ª—è}}`.

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏–ª–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ —Ñ—É–Ω–∫—Ü–∏—é `_prepare_individual_template_data`:

```python
# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö —Å–∏–≥–Ω–∞—Ç—É—Ä –≤ —à–∞–±–ª–æ–Ω–µ
'{{ –≤_–±–∞–Ω–∫–∞_–ø–æ–ª—É—á–∞—Ç–µ–ª—è}}': bank_address,  # –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å–∏–≥–Ω–∞—Ç—É—Ä–∞ –≤ —à–∞–±–ª–æ–Ω–µ
'{{–≤_–±–∞–Ω–∫–∞_–ø–æ–ª—É—á–∞—Ç–µ–ª—è}}': bank_address,   # –í–∞—Ä–∏–∞–Ω—Ç –±–µ–∑ –ø—Ä–æ–±–µ–ª–∞
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å–∏–≥–Ω–∞—Ç—É—Ä–∞ —Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ –∞–¥—Ä–µ—Å –±–∞–Ω–∫–∞ –ø–æ–ª—É—á–∞—Ç–µ–ª—è.

### 3. ‚úÖ –£–ª—É—á—à–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–π –æ—á–∏—Å—Ç–∫–∏

**–ü—Ä–æ–±–ª–µ–º–∞:** –ê–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ —É–¥–∞–ª—è–ª–∞ —É–∂–µ –∑–∞–º–µ–Ω–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∞–¥—Ä–µ—Å–∞, –Ω–∞–∑–≤–∞–Ω–∏—è –±–∞–Ω–∫–æ–≤), –ø—Ä–∏–Ω–∏–º–∞—è –∏—Ö –∑–∞ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã.

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞ —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π:

```python
# –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞ –∞–¥—Ä–µ—Å–∞, –Ω–∞–∑–≤–∞–Ω–∏—è –±–∞–Ω–∫–æ–≤, —Å—É–º–º—ã –∏ —Ç.–¥.
if (len(inner_content) > 50 or  # –î–ª–∏–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ - —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ –¥–∞–Ω–Ω—ã–µ
    any(word in inner_content.upper() for word in ['MALAYSIA', 'BANKING', 'BERHAD', 'MAYBANK', 'ZHEJIANG', 'INDUSTRY', 'TRADE']) or
    re.match(r'^[A-Z0-9]{8,}$', inner_content) or  # SWIFT –∫–æ–¥—ã
    re.match(r'^\d+\.\d+$', inner_content) or  # –ß–∏—Å–ª–∞ —Å —Ç–æ—á–∫–æ–π
    'HTTP' in inner_content.upper() or 'YA.RU' in inner_content.upper()):  # URL
    is_data_value = True
    _logger.info(f"üîí –ü—Ä–æ–ø—É—Å–∫–∞–µ–º —É–∂–µ –∑–∞–º–µ–Ω–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: '{remaining_sig[:50]}...' (—Å–æ–¥–µ—Ä–∂–∏—Ç –¥–∞–Ω–Ω—ã–µ)")
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ê–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –±–æ–ª—å—à–µ –Ω–µ —É–¥–∞–ª—è–µ—Ç —É–∂–µ –∑–∞–º–µ–Ω–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è.

### 4. ‚úÖ –£–ª—É—á—à–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö —Å–∏–≥–Ω–∞—Ç—É—Ä

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã (`{{–ø–æ–¥–ø–∏—Å–∞–Ω–æ_–ø}}`, `{{—Å—É–º–º–∞}}`, `{{–∫—É—Ä—Å}}`, `{{order_s}}`, `{{client}}`) –Ω–µ –Ω–∞—Ö–æ–¥–∏–ª–∏—Å—å –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ –∏–∑-–∑–∞ —Ä–∞–∑–±–∏–≤–∫–∏ –Ω–∞ —á–∞—Å—Ç–∏.

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏–ª–∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –¥–ª—è –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö —Å–∏–≥–Ω–∞—Ç—É—Ä:

```python
# –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö —Å–∏–≥–Ω–∞—Ç—É—Ä
special_patterns = {
    '–ø–æ–¥–ø–∏—Å–∞–Ω–æ_–ø': ['–ø–æ–¥–ø–∏—Å–∞–Ω–æ', '–ø'],
    '—Å—É–º–º–∞': ['—Å—É–º–º–∞'],
    '–∫—É—Ä—Å': ['–∫—É—Ä—Å'],
    'order_s': ['order', 's'],
    'client': ['client'],
    '–∞–¥—Ä–µ—Å_–±–∞–Ω–∫–∞_–ø–æ–ª—É—á–∞—Ç–µ–ª—è': ['–∞–¥—Ä–µ—Å', '–±–∞–Ω–∫–∞', '–ø–æ–ª—É—á–∞—Ç–µ–ª—è']
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –§—É–Ω–∫—Ü–∏—è —Ç–µ–ø–µ—Ä—å –º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ –∏ –∑–∞–º–µ–Ω–∏—Ç—å —Ä–∞–∑–±–∏—Ç—ã–µ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ.

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —à–∞–±–ª–æ–Ω–∞

**–ü—Ä–æ–±–ª–µ–º–∞:** –í `demo_template_library.xml` –±—ã–ª–∞ —É–∫–∞–∑–∞–Ω–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è `'individual'`.

**–†–µ—à–µ–Ω–∏–µ:** –ò–∑–º–µ–Ω–∏–ª–∏ –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é `'other'`:

```xml
<field name="category">other</field>
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏–º–ø–æ—Ä—Ç–∞

**–ü—Ä–æ–±–ª–µ–º–∞:** –í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏–º–ø–æ—Ä—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–∏ `_get_yandex_gpt_config`.

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏–ª–∏ –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –∏–º–ø–æ—Ä—Ç–∞:

```python
try:
    from ..automations.ygpt_analyse import _get_yandex_gpt_config
    cfg = _get_yandex_gpt_config(self.env, "zayavka")
except ImportError:
    _logger.error("[–ü–ï–†–ï–í–û–î] –ù–µ —É–¥–∞–ª–æ—Å—å –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å _get_yandex_gpt_config")
    return text
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:

1. ‚úÖ **YandexGPT –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç** –Ω–∞–∑–≤–∞–Ω–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π —Å —Ä—É—Å—Å–∫–æ–≥–æ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π
2. ‚úÖ **–í—Å–µ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã –≤ —à–∞–±–ª–æ–Ω–µ** –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∑–∞–º–µ–Ω—è—é—Ç—Å—è –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ
3. ‚úÖ **–ê–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞** –Ω–µ —É–¥–∞–ª—è–µ—Ç —É–∂–µ –∑–∞–º–µ–Ω–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
4. ‚úÖ **–†–∞–∑–±–∏—Ç—ã–µ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã** –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞–º–∏
5. ‚úÖ **–ú–æ–¥—É–ª—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è** –±–µ–∑ –æ—à–∏–±–æ–∫
6. ‚úÖ **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞** —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:

1. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –º–æ–¥—É–ª—å Odoo
2. –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é –∑–∞—è–≤–∫—É —Å –¥–∞–Ω–Ω—ã–º–∏
3. –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç "–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª" –≤ —Ñ–æ—Ä–º–∞—Ç–µ DOCX
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –ø–æ–ª–µ–π
5. –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ PDF
6. –£–±–µ–¥–∏—Ç—å—Å—è –≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ–≤–æ–¥–∞ –Ω–∞–∑–≤–∞–Ω–∏–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π

---
*–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π: –î–µ–∫–∞–±—Ä—å 2024*
*–í–µ—Ä—Å–∏—è: 1.1.0*
