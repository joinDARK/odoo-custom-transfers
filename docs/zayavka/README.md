# Документация по Заявкам

Все что связанно с заявками (ну почти), храниться в директории `amanat/models/zayavka`. Поля, вычисление полей, автоматизации храняться тут. Это файл будет для вводной информации, чуть больше конкретики ищите в других файлах (если она вообще будет)

## Общая структура директории
```bash
zayavka
├── automations # Директория для автоматизаций
│   ├── change_data.py # Без понятия что это такое
│   ├── create_order_zayavka.py # Автоматизация для "входа" заявки. По сути использует те же методы, что в файле fin_entry_automation.py, но тут другой триггер
│   ├── fin_entry_automation.py # Автоматизация для "входа" заявки (используются только финиками)
│   ├── fix_course.py # Раньше эта автоматизация срабатывала, когда статус заявки был 6. Щас нигде не используется
│   ├── for_khalida_automations.py # Автоматизация для линка прайс-листов и правил (используются только финиками)
│   ├── get_payment_request.py # Автоматизация для выписок разнос (когда они линкуются к заявке)
│   ├── link_jess_rate.py # Автоматизация для линка курса Джесс
│   ├── price_list_automation.py # Автоматизация для линка прайс-листов
│   ├── return_automations.py # Автоматизация для возвратов
│   ├── rule_for_management.py # Автоматизация для линка правил
│   ├── send_to_reconciliation.py # Автоматизация при "закрытии" заявки
│   └── ygpt_analyse.py # Автоматизация для анализа документов и картинки через YandexGPT
├── compute.py # Методы / функции (или формулы) для вычисления некоторых полей
├── documents.py # Все что связанно с документами в заявках
├── methods.py # Содержит триггеры create и write для автоматизаций, а также полезные методы (например для создание ордера)
├── onchange.py # Методы, которые срабатывают при изменении поля
└── zayavka.py # Поля модели amanat.zayavka
```

## Пару терминов с язык менеджеров
- *Сумма инвойса / Сумма заявки в валюте / Сумма* — это все поле `amount` **(Сумма заявки)**
- *Скрытый курс* — это поле `rate_field` **(Курс)**

## Небольшой оглавление
[Заметки по полям в заявках](note_for_fields.md")
[Про файл methods.py](methods.md)