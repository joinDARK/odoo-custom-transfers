<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- ==================== –ó–ê–ö–û–ú–ú–ï–ù–¢–ò–†–û–í–ê–ù –°–¢–ê–†–´–ô DASHBOARD VIEW (–ù–ï –ü–û–î–î–ï–†–ñ–ò–í–ê–ï–¢–°–Ø –í ODOO 18) ==================== -->
    <!-- 
    <record id="view_amanat_dashboard_dashboard_old" model="ir.ui.view">
        <field name="name">amanat.dashboard.dashboard</field>
        <field name="model">amanat.dashboard</field>
        <field name="mode">primary</field>
        <field name="arch" type="xml">
            <dashboard> —Ç–∏–ø dashboard –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤ Odoo 18 </dashboard>
        </field>
    </record>
    -->

    <!-- ==================== –°–ü–ï–¶–ò–ê–õ–¨–ù–´–ï GRAPH VIEWS –î–õ–Ø –î–ê–®–ë–û–†–î–ê ==================== -->
    <record id="view_transfer_graph_dashboard" model="ir.ui.view">
        <field name="name">amanat.transfer.graph.dashboard</field>
        <field name="model">amanat.transfer</field>
        <field name="arch" type="xml">
            <graph string="–î–∏–Ω–∞–º–∏–∫–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤" type="line" sample="1">
                <field name="date" interval="day"/>
                <field name="amount" type="measure"/>
            </graph>
        </field>
    </record>

    <!-- <record id="view_order_graph_dashboard" model="ir.ui.view">
        <field name="name">amanat.order.graph.dashboard</field>
        <field name="model">amanat.order</field>
        <field name="arch" type="xml">
            <graph string="–û—Ä–¥–µ—Ä–∞ –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º" type="bar" stacked="False" sample="1">
                <field name="status"/>
                <field name="amount" type="measure"/>
            </graph>
        </field>
    </record> -->

    <record id="view_transfer_pivot_dashboard" model="ir.ui.view">
        <field name="name">amanat.transfer.pivot.dashboard</field>
        <field name="model">amanat.transfer</field>
        <field name="arch" type="xml">
            <pivot string="–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ –ø–µ—Ä–µ–≤–æ–¥–∞–º" sample="1">
                <field name="currency" type="col"/>
                <field name="state" type="row"/>
                <field name="amount" type="measure"/>
            </pivot>
        </field>
    </record>

    <!-- ==================== –ù–û–í–û–ï KANBAN –ü–†–ï–î–°–¢–ê–í–õ–ï–ù–ò–ï –° –ö–ê–†–¢–ê–ú–ò ==================== -->
    <record id="view_amanat_dashboard_kanban_cards" model="ir.ui.view">
        <field name="name">amanat.dashboard.kanban.cards</field>
        <field name="model">amanat.dashboard</field>
        <field name="arch" type="xml">
            <kanban class="o_kanban_dashboard o_amanat_kanban" create="0">
                <field name="name"/>
                <field name="total_transfers"/>
                <field name="active_transfers"/>
                <field name="closed_transfers"/>
                <field name="total_orders"/>
                <field name="draft_orders"/>
                <field name="confirmed_orders"/>
                <field name="done_orders"/>
                <field name="total_money_containers"/>
                <field name="positive_containers"/>
                <field name="debt_containers"/>
                <field name="total_rub_balance"/>
                <field name="total_usd_balance"/>
                <field name="total_usdt_balance"/>
                <field name="total_euro_balance"/>
                <field name="total_cny_balance"/>
                <field name="transfers_completion_rate"/>
                <field name="orders_completion_rate"/>
                <templates>
                    <t t-name="kanban-box">
                        <div class="oe_kanban_global_click">
                            <div class="container-fluid">
                                <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
                                <div class="row">
                                    <div class="col-12 text-center mb-3">
                                        <h3><field name="name"/></h3>
                                    </div>
                                </div>
                                
                                <!-- KPI –ö–∞—Ä—Ç–æ—á–∫–∏ -->
                                <div class="row mb-4">
                                    <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ -->
                                    <div class="col-lg-3 col-md-6 mb-3">
                                        <div class="card text-center">
                                            <div class="card-body">
                                                <h5 class="card-title text-muted">–í—Å–µ–≥–æ –ø–µ—Ä–µ–≤–æ–¥–æ–≤</h5>
                                                <h2 class="text-primary"><field name="total_transfers"/></h2>
                                                <div class="mt-2">
                                                    <span class="badge bg-success me-2"><field name="active_transfers"/> –∞–∫—Ç–∏–≤–Ω—ã—Ö</span>
                                                    <span class="badge bg-secondary"><field name="closed_transfers"/> –∑–∞–∫—Ä—ã—Ç—ã—Ö</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –æ—Ä–¥–µ—Ä–æ–≤ -->
                                    <div class="col-lg-3 col-md-6 mb-3">
                                        <div class="card text-center">
                                            <div class="card-body">
                                                <h5 class="card-title text-muted">–í—Å–µ–≥–æ –æ—Ä–¥–µ—Ä–æ–≤</h5>
                                                <h2 class="text-info"><field name="total_orders"/></h2>
                                                <div class="mt-2">
                                                    <span class="badge bg-warning text-dark"><field name="draft_orders"/> —á–µ—Ä–Ω–æ–≤–∏–∫–æ–≤</span>
                                                    <span class="badge bg-success"><field name="done_orders"/> –≤—ã–ø–æ–ª–Ω–µ–Ω–æ</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –¥–µ–Ω–µ–∂–Ω—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ -->
                                    <div class="col-lg-3 col-md-6 mb-3">
                                        <div class="card text-center">
                                            <div class="card-body">
                                                <h5 class="card-title text-muted">–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã</h5>
                                                <h2 class="text-warning"><field name="total_money_containers"/></h2>
                                                <div class="mt-2">
                                                    <span class="badge bg-success"><field name="positive_containers"/> –ø–æ–ª–æ–∂–∏—Ç.</span>
                                                    <span class="badge bg-danger"><field name="debt_containers"/> –¥–æ–ª–≥–æ–≤—ã—Ö</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è -->
                                    <div class="col-lg-3 col-md-6 mb-3">
                                        <div class="card text-center">
                                            <div class="card-body">
                                                <h5 class="card-title text-muted">–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</h5>
                                                <div class="d-flex justify-content-around">
                                                    <div>
                                                        <h4 class="text-success"><field name="transfers_completion_rate"/>%</h4>
                                                        <small class="text-muted">–ü–µ—Ä–µ–≤–æ–¥—ã</small>
                                                    </div>
                                                    <div>
                                                        <h4 class="text-info"><field name="orders_completion_rate"/>%</h4>
                                                        <small class="text-muted">–û—Ä–¥–µ—Ä–∞</small>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- –í–∞–ª—é—Ç–Ω—ã–µ –±–∞–ª–∞–Ω—Å—ã -->
                                <div class="row">
                                    <div class="col-12">
                                        <div class="card">
                                            <div class="card-header">
                                                <h5 class="mb-0">üí± –í–∞–ª—é—Ç–Ω—ã–µ –±–∞–ª–∞–Ω—Å—ã</h5>
                                            </div>
                                            <div class="card-body">
                                                <div class="row text-center">
                                                    <div class="col">
                                                        <h6 class="text-muted">RUB</h6>
                                                        <h5><field name="total_rub_balance"/></h5>
                                                    </div>
                                                    <div class="col">
                                                        <h6 class="text-muted">USD</h6>
                                                        <h5><field name="total_usd_balance"/></h5>
                                                    </div>
                                                    <div class="col">
                                                        <h6 class="text-muted">USDT</h6>
                                                        <h5><field name="total_usdt_balance"/></h5>
                                                    </div>
                                                    <div class="col">
                                                        <h6 class="text-muted">EURO</h6>
                                                        <h5><field name="total_euro_balance"/></h5>
                                                    </div>
                                                    <div class="col">
                                                        <h6 class="text-muted">CNY</h6>
                                                        <h5><field name="total_cny_balance"/></h5>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>

    <!-- ==================== FORM VIEW –° –í–ò–î–ñ–ï–¢–ê–ú–ò ==================== -->
    <record id="view_amanat_dashboard_form" model="ir.ui.view">
        <field name="name">amanat.dashboard.form</field>
        <field name="model">amanat.dashboard</field>
        <field name="arch" type="xml">
            <form string="–î–∞—à–±–æ—Ä–¥ Amanat" create="false" edit="false">
                <header>
                    <button name="action_refresh_dashboard" 
                            type="object" 
                            string="–û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ" 
                            class="btn-primary"/>
                </header>
                
                <sheet>
                    <div class="oe_title">
                        <h1>
                            <field name="name" readonly="1"/>
                        </h1>
                    </div>
                    
                    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –∫–Ω–æ–ø–∫–∏ -->
                    <div name="button_box" class="oe_button_box">
                        <button name="action_view_transfers" 
                                type="object" 
                                class="oe_stat_button" 
                                icon="fa-exchange">
                            <field name="total_transfers" widget="statinfo" string="–í—Å–µ–≥–æ –ø–µ—Ä–µ–≤–æ–¥–æ–≤"/>
                        </button>
                        
                        <button name="action_view_transfers" 
                                type="object" 
                                class="oe_stat_button" 
                                icon="fa-play-circle">
                            <field name="active_transfers" widget="statinfo" string="–ê–∫—Ç–∏–≤–Ω—ã–µ"/>
                        </button>
                        
                        <button name="action_view_transfers" 
                                type="object" 
                                class="oe_stat_button" 
                                icon="fa-check-circle">
                            <field name="closed_transfers" widget="statinfo" string="–ó–∞–∫—Ä—ã—Ç—ã–µ"/>
                        </button>
                        
                        <button name="action_view_orders" 
                                type="object" 
                                class="oe_stat_button" 
                                icon="fa-list">
                            <field name="total_orders" widget="statinfo" string="–í—Å–µ–≥–æ –æ—Ä–¥–µ—Ä–æ–≤"/>
                        </button>
                        
                        <button name="action_view_orders" 
                                type="object" 
                                class="oe_stat_button" 
                                icon="fa-edit">
                            <field name="draft_orders" widget="statinfo" string="–ß–µ—Ä–Ω–æ–≤–∏–∫–∏"/>
                        </button>
                        
                        <button name="action_view_money_containers" 
                                type="object" 
                                class="oe_stat_button" 
                                icon="fa-money">
                            <field name="total_money_containers" widget="statinfo" string="–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã"/>
                        </button>
                    </div>
                    
                    <notebook>
                        <!-- –í–∫–ª–∞–¥–∫–∞: –ü–µ—Ä–µ–≤–æ–¥—ã -->
                        <page string="üí∏ –ü–µ—Ä–µ–≤–æ–¥—ã" name="transfers">
                            <group>
                                <group name="transfers_stats">
                                    <field name="total_transfers" readonly="1"/>
                                    <field name="active_transfers" readonly="1"/>
                                    <field name="closed_transfers" readonly="1"/>
                                    <field name="total_transfer_amount" readonly="1" widget="monetary"/>
                                </group>
                                <group name="transfers_completion">
                                    <field name="transfers_completion_rate" 
                                           widget="percentage" 
                                           string="–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥–æ–≤"/>
                                </group>
                            </group>
                        </page>
                        
                        <!-- –í–∫–ª–∞–¥–∫–∞: –û—Ä–¥–µ—Ä–∞ -->
                        <page string="üìã –û—Ä–¥–µ—Ä–∞" name="orders">
                            <group>
                                <group name="orders_stats">
                                    <field name="total_orders" readonly="1"/>
                                    <field name="draft_orders" readonly="1"/>
                                    <field name="confirmed_orders" readonly="1"/>
                                    <field name="done_orders" readonly="1"/>
                                </group>
                                <group name="orders_completion">
                                    <field name="orders_completion_rate" 
                                           widget="percentage" 
                                           string="–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –æ—Ä–¥–µ—Ä–æ–≤"/>
                                </group>
                            </group>
                        </page>
                        
                        <!-- –í–∫–ª–∞–¥–∫–∞: –î–µ–Ω–µ–∂–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã -->
                        <page string="üí∞ –î–µ–Ω—å–≥–∏" name="money">
                            <group>
                                <group name="money_stats">
                                    <field name="total_money_containers" readonly="1"/>
                                    <field name="positive_containers" readonly="1"/>
                                    <field name="debt_containers" readonly="1"/>
                                    <field name="empty_containers" readonly="1"/>
                                </group>
                            </group>
                        </page>
                        
                        <!-- –í–∫–ª–∞–¥–∫–∞: –í–∞–ª—é—Ç–Ω—ã–µ –æ—Å—Ç–∞—Ç–∫–∏ -->
                        <page string="üí± –í–∞–ª—é—Ç–Ω—ã–µ –æ—Å—Ç–∞—Ç–∫–∏" name="currency">
                            <group>
                                <group name="currency_balances">
                                    <field name="total_rub_balance" readonly="1" widget="monetary"/>
                                    <field name="total_usd_balance" readonly="1" widget="monetary"/>
                                    <field name="total_usdt_balance" readonly="1" widget="monetary"/>
                                    <field name="total_euro_balance" readonly="1" widget="monetary"/>
                                    <field name="total_cny_balance" readonly="1" widget="monetary"/>
                                </group>
                            </group>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>

    <!-- ==================== KANBAN VIEW ==================== -->
    <record id="view_amanat_dashboard_kanban" model="ir.ui.view">
        <field name="name">amanat.dashboard.kanban</field>
        <field name="model">amanat.dashboard</field>
        <field name="arch" type="xml">
            <kanban class="o_kanban_mobile">
                <field name="name"/>
                <field name="total_transfers"/>
                <field name="total_orders"/>
                <field name="total_money_containers"/>
                <field name="create_date"/>
                <templates>
                    <t t-name="card">
                        <div class="o_kanban_card_header">
                            <div class="o_kanban_card_header_title">
                                <div class="o_primary">
                                    <field name="name"/>
                                </div>
                            </div>
                        </div>
                        <div class="o_kanban_card_content">
                            <field name="total_transfers" widget="badge"/>
                            <field name="total_orders" widget="badge"/>
                            <field name="total_money_containers" widget="badge"/>
                        </div>
                        <div class="o_kanban_card_footer">
                            <div class="oe_kanban_bottom_left">
                                <i class="fa fa-exchange" title="–ü–µ—Ä–µ–≤–æ–¥—ã"/> <field name="total_transfers"/>
                            </div>
                            <div class="oe_kanban_bottom_left">
                                <i class="fa fa-list" title="–û—Ä–¥–µ—Ä–∞"/> <field name="total_orders"/>
                            </div>
                            <div class="oe_kanban_bottom_right">
                                <field name="create_date" widget="date"/>
                            </div>
                        </div>
                        <div class="o_dropdown_kanban dropdown">
                            <i class="fa fa-play-circle" title="–î–µ–π—Å—Ç–≤–∏—è"/>
                        </div>
                        <div class="oe_kanban_colorpicker">
                            <i class="fa fa-money" title="–í–∞–ª—é—Ç—ã"/>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>

    <!-- ==================== LIST VIEW ==================== -->
    <record id="view_amanat_dashboard_tree" model="ir.ui.view">
        <field name="name">amanat.dashboard.tree</field>
        <field name="model">amanat.dashboard</field>
        <field name="arch" type="xml">
            <list string="–î–∞—à–±–æ—Ä–¥—ã">
                <field name="name"/>
                <field name="total_transfers"/>
                <field name="active_transfers"/>
                <field name="total_orders"/>
                <field name="total_money_containers"/>
                <field name="transfers_completion_rate" widget="progressbar"/>
                <field name="orders_completion_rate" widget="progressbar"/>
            </list>
        </field>
    </record>

    <!-- ==================== ACTIONS ==================== -->
    <record id="action_amanat_dashboard" model="ir.actions.act_window">
        <field name="name">–î–∞—à–±–æ—Ä–¥—ã</field>
        <field name="res_model">amanat.dashboard</field>
        <field name="view_mode">kanban,form,list</field>
        <field name="target">current</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                –°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–π –ø–µ—Ä–≤—ã–π –¥–∞—à–±–æ—Ä–¥!
            </p>
            <p>
                –î–∞—à–±–æ—Ä–¥—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –±—ã—Å—Ç—Ä—ã–π –æ–±–∑–æ—Ä –∫–ª—é—á–µ–≤—ã—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π –≤–∞—à–µ–≥–æ –±–∏–∑–Ω–µ—Å–∞.
                –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –ø–µ—Ä–µ–≤–æ–¥—ã, –æ—Ä–¥–µ—Ä–∞, –¥–µ–Ω–µ–∂–Ω—ã–µ –æ—Å—Ç–∞—Ç–∫–∏ –∏ –¥—Ä—É–≥–∏–µ –≤–∞–∂–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏.
            </p>
        </field>
    </record>

    <!-- ==================== PIVOT VIEW –î–õ–Ø –ê–ù–ê–õ–ò–¢–ò–ö–ò ==================== -->
    <record id="view_transfer_pivot" model="ir.ui.view">
        <field name="name">amanat.transfer.pivot</field>
        <field name="model">amanat.transfer</field>
        <field name="arch" type="xml">
            <pivot string="–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤">
                <field name="date" type="row" interval="month"/>
                <field name="currency" type="col"/>
                <field name="state" type="col"/>
                <field name="amount" type="measure"/>
            </pivot>
        </field>
    </record>

    <record id="view_order_pivot" model="ir.ui.view">
        <field name="name">amanat.order.pivot</field>
        <field name="model">amanat.order</field>
        <field name="arch" type="xml">
            <pivot string="–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –æ—Ä–¥–µ—Ä–æ–≤">
                <field name="date" type="row" interval="month"/>
                <field name="type" type="col"/>
                <field name="status" type="col"/>
                <field name="amount" type="measure"/>
            </pivot>
        </field>
    </record>

    <!-- ==================== GRAPH VIEWS ==================== -->
    <record id="view_transfer_graph" model="ir.ui.view">
        <field name="name">amanat.transfer.graph</field>
        <field name="model">amanat.transfer</field>
        <field name="arch" type="xml">
            <graph string="–ì—Ä–∞—Ñ–∏–∫ –ø–µ—Ä–µ–≤–æ–¥–æ–≤" type="line">
                <field name="date" interval="month"/>
                <field name="amount" type="measure"/>
            </graph>
        </field>
    </record>

    <record id="view_order_graph" model="ir.ui.view">
        <field name="name">amanat.order.graph</field>
        <field name="model">amanat.order</field>
        <field name="arch" type="xml">
            <graph string="–ì—Ä–∞—Ñ–∏–∫ –æ—Ä–¥–µ—Ä–æ–≤" type="bar">
                <field name="status"/>
                <field name="amount" type="measure"/>
            </graph>
        </field>
    </record>

    <!-- ==================== ANALYTICS ACTIONS ==================== -->
    <record id="action_transfer_analytics" model="ir.actions.act_window">
        <field name="name">–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤</field>
        <field name="res_model">amanat.transfer</field>
        <field name="view_mode">pivot,graph</field>
        <field name="context">{'search_default_group_by_date': 1}</field>
    </record>

    <record id="action_order_analytics" model="ir.actions.act_window">
        <field name="name">–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –æ—Ä–¥–µ—Ä–æ–≤</field>
        <field name="res_model">amanat.order</field>
        <field name="view_mode">pivot,graph</field>
        <field name="context">{'search_default_group_by_date': 1}</field>
    </record>

    <!-- ==================== JAVASCRIPT DASHBOARD ACTION ==================== -->
    <record id="action_amanat_dashboard_js" model="ir.actions.client">
        <field name="name">–ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π –¥–∞—à–±–æ—Ä–¥</field>
        <field name="tag">amanat_dashboard</field>
        <field name="target">current</field>
    </record>
</odoo> 